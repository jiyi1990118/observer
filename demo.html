<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--<script src="observer.js"></script>-->
<script src="watch.js"></script>
<script>
	// 定义一个源数据
	var test1={a:"tesa"};

	var test2={b:'tesb'}

    window.onload = function () {

	    // 创建第一个监听实例
	    var w1=window.w1=new observerDriven(test1)
	    var w2=window.w2=new observerDriven(test2)

	    // 对第一个监听实例数据进行监听
	    w1.watch('a.c',function(newData,oldData){
		    console.log(newData,oldData)
	    });

	    // 对第一个监听实例数据进行监听
	    w1.watch('b.c',function(newData,oldData){
		    console.log(newData,oldData)
	    });

	    w2.watch('a.c',function(newData,oldData){
		    console.log(newData,oldData,'w2')
	    });

	    w2.watch('b.c',function(newData,oldData){
		    console.log(newData,oldData,'w2')
	    });

	    // 测试提前销毁
	    w2.destroy();

	    console.log(w2)

	    // var merge=w1.merge(w2);


	    // window.ss=merge;
	    // console.log(merge)

    }
</script>
</body>
</html>